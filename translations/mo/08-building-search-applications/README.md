<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "d46aad0917a1a342d613e2c13d457da5",
  "translation_date": "2025-05-19T18:21:32+00:00",
  "source_file": "08-building-search-applications/README.md",
  "language_code": "mo"
}
-->
# بناء تطبيقات البحث

هناك أكثر من مجرد روبوتات الدردشة وتوليد النصوص في LLMs. من الممكن أيضًا بناء تطبيقات بحث باستخدام التضمينات. التضمينات هي تمثيلات رقمية للبيانات تُعرف أيضًا بالنواقل، ويمكن استخدامها للبحث الدلالي عن البيانات.

في هذا الدرس، سوف تبني تطبيق بحث لشركتنا الناشئة في مجال التعليم. شركتنا هي منظمة غير ربحية تقدم تعليمًا مجانيًا للطلاب في البلدان النامية. تمتلك شركتنا عددًا كبيرًا من مقاطع الفيديو على يوتيوب التي يمكن للطلاب استخدامها لتعلم الذكاء الاصطناعي. ترغب شركتنا في بناء تطبيق بحث يسمح للطلاب بالبحث عن مقطع فيديو على يوتيوب عن طريق كتابة سؤال.

على سبيل المثال، قد يكتب الطالب "ما هي دفاتر Jupyter؟" أو "ما هو Azure ML" وسيقوم تطبيق البحث بإرجاع قائمة بمقاطع الفيديو على يوتيوب التي تتعلق بالسؤال، والأفضل من ذلك، سيقوم تطبيق البحث بإرجاع رابط إلى المكان في الفيديو حيث يوجد الجواب على السؤال.

## مقدمة

في هذا الدرس، سنغطي:

- البحث الدلالي مقابل البحث بالكلمات الرئيسية.
- ما هي تضمينات النصوص.
- إنشاء فهرس تضمينات النصوص.
- البحث في فهرس تضمينات النصوص.

## أهداف التعلم

بعد إكمال هذا الدرس، ستكون قادرًا على:

- التفريق بين البحث الدلالي والبحث بالكلمات الرئيسية.
- شرح ما هي تضمينات النصوص.
- إنشاء تطبيق باستخدام التضمينات للبحث عن البيانات.

## لماذا نبني تطبيق بحث؟

إنشاء تطبيق بحث سيساعدك على فهم كيفية استخدام التضمينات للبحث عن البيانات. ستتعلم أيضًا كيفية بناء تطبيق بحث يمكن للطلاب استخدامه للعثور على المعلومات بسرعة.

يتضمن الدرس فهرس تضمينات لنسخ مقاطع الفيديو على قناة YouTube الخاصة بـ [AI Show](https://www.youtube.com/playlist?list=PLlrxD0HtieHi0mwteKBOfEeOYf0LJU4O1). AI Show هي قناة على يوتيوب تعلمك عن الذكاء الاصطناعي وتعلم الآلة. يحتوي فهرس التضمينات على التضمينات لكل من نسخ مقاطع الفيديو حتى أكتوبر 2023. ستستخدم فهرس التضمينات لبناء تطبيق بحث لشركتنا الناشئة. يقوم تطبيق البحث بإرجاع رابط إلى المكان في الفيديو حيث يوجد الجواب على السؤال. هذه طريقة رائعة للطلاب للعثور على المعلومات التي يحتاجونها بسرعة.

فيما يلي مثال على استعلام دلالي للسؤال "هل يمكنك استخدام rstudio مع azure ml؟". تحقق من رابط YouTube، سترى أن الرابط يحتوي على طابع زمني يأخذك إلى المكان في الفيديو حيث يوجد الجواب على السؤال.

## ما هو البحث الدلالي؟

قد تتساءل الآن، ما هو البحث الدلالي؟ البحث الدلالي هو تقنية بحث تستخدم الدلالات، أو المعنى، للكلمات في الاستعلام لإرجاع نتائج ذات صلة.

إليك مثال على بحث دلالي. لنفترض أنك كنت تبحث عن شراء سيارة، قد تبحث عن "سيارتي الحلم"، البحث الدلالي يفهم أنك لا تتحدث عن سيارة، بل أنك تبحث عن شراء سيارتك الحلم. البحث الدلالي يفهم نيتك ويعيد نتائج ذات صلة. البديل هو البحث بالكلمات الرئيسية الذي سيبحث حرفيًا عن الأحلام حول السيارات وغالبًا ما يعيد نتائج غير ذات صلة.

## ما هي تضمينات النصوص؟

[تضمينات النصوص](https://en.wikipedia.org/wiki/Word_embedding?WT.mc_id=academic-105485-koreyst) هي تقنية تمثيل نصوص تُستخدم في [معالجة اللغة الطبيعية](https://en.wikipedia.org/wiki/Natural_language_processing?WT.mc_id=academic-105485-koreyst). تضمينات النصوص هي تمثيلات رقمية دلالية للنصوص. تُستخدم التضمينات لتمثيل البيانات بطريقة يسهل على الآلة فهمها. هناك العديد من النماذج لبناء تضمينات النصوص، في هذا الدرس، سنركز على توليد التضمينات باستخدام نموذج OpenAI Embedding.

إليك مثال، تخيل أن النص التالي موجود في نسخة من إحدى الحلقات على قناة AI Show على يوتيوب:

سنمرر النص إلى واجهة برمجة تطبيقات OpenAI Embedding وستعيد التضمين التالي الذي يتكون من 1536 رقمًا المعروف أيضًا بالنواقل. كل رقم في الناقل يمثل جانبًا مختلفًا من النص. للاختصار، إليك أول 10 أرقام في الناقل.

## كيف يتم إنشاء فهرس التضمينات؟

تم إنشاء فهرس التضمينات لهذا الدرس بسلسلة من سكربتات بايثون. ستجد السكربتات مع التعليمات في [README](./scripts/README.md?WT.mc_id=academic-105485-koreyst) في مجلد 'scripts' لهذا الدرس. لا تحتاج إلى تشغيل هذه السكربتات لإكمال هذا الدرس حيث تم توفير فهرس التضمينات لك.

تقوم السكربتات بالعمليات التالية:

1. يتم تنزيل النسخة لكل فيديو يوتيوب في قائمة التشغيل [AI Show](https://www.youtube.com/playlist?list=PLlrxD0HtieHi0mwteKBOfEeOYf0LJU4O1).
2. باستخدام [وظائف OpenAI](https://learn.microsoft.com/azure/ai-services/openai/how-to/function-calling?WT.mc_id=academic-105485-koreyst)، يتم محاولة استخراج اسم المتحدث من أول 3 دقائق من نسخة يوتيوب. يتم تخزين اسم المتحدث لكل فيديو في فهرس التضمينات المسمى `embedding_index_3m.json`.
3. يتم تقسيم نص النسخة إلى **مقاطع نصية مدتها 3 دقائق**. يتضمن المقطع حوالي 20 كلمة متداخلة من المقطع التالي لضمان عدم قطع التضمين للمقطع ولتوفير سياق بحث أفضل.
4. يتم تمرير كل مقطع نصي إلى واجهة برمجة تطبيقات OpenAI Chat لتلخيص النص في 60 كلمة. يتم أيضًا تخزين الملخص في فهرس التضمينات `embedding_index_3m.json`.
5. أخيرًا، يتم تمرير نص المقطع إلى واجهة برمجة تطبيقات OpenAI Embedding. تعيد واجهة برمجة التطبيقات التضمين ناقلًا من 1536 رقمًا يمثل المعنى الدلالي للمقطع. يتم تخزين المقطع مع ناقل OpenAI Embedding في فهرس التضمينات `embedding_index_3m.json`.

### قواعد البيانات النقطية

للتبسيط في الدرس، يتم تخزين فهرس التضمينات في ملف JSON يسمى `embedding_index_3m.json` ويتم تحميله في DataFrame من Pandas. ومع ذلك، في الإنتاج، سيتم تخزين فهرس التضمينات في قاعدة بيانات نقطية مثل [Azure Cognitive Search](https://learn.microsoft.com/training/modules/improve-search-results-vector-search?WT.mc_id=academic-105485-koreyst)، [Redis](https://cookbook.openai.com/examples/vector_databases/redis/readme?WT.mc_id=academic-105485-koreyst)، [Pinecone](https://cookbook.openai.com/examples/vector_databases/pinecone/readme?WT.mc_id=academic-105485-koreyst)، [Weaviate](https://cookbook.openai.com/examples/vector_databases/weaviate/readme?WT.mc_id=academic-105485-koreyst)، على سبيل المثال لا الحصر.

## فهم التشابه الكوني

لقد تعلمنا عن تضمينات النصوص، والخطوة التالية هي تعلم كيفية استخدام تضمينات النصوص للبحث عن البيانات وبالأخص العثور على التضمينات الأكثر تشابهًا لاستعلام معين باستخدام التشابه الكوني.

### ما هو التشابه الكوني؟

التشابه الكوني هو مقياس للتشابه بين ناقلين، ستسمع أيضًا أنه يُشار إليه بـ `nearest neighbor search`. لإجراء بحث بالتشابه الكوني تحتاج إلى _تحويل إلى ناقل_ لنص _الاستعلام_ باستخدام واجهة برمجة تطبيقات OpenAI Embedding. ثم حساب _التشابه الكوني_ بين ناقل الاستعلام وكل ناقل في فهرس التضمينات. تذكر، يحتوي فهرس التضمينات على ناقل لكل مقطع نصي من نسخ يوتيوب. أخيرًا، قم بفرز النتائج حسب التشابه الكوني والمقاطع النصية ذات التشابه الكوني الأعلى هي الأكثر تشابهًا مع الاستعلام.

من منظور رياضي، يقيس التشابه الكوني جيب الزاوية بين ناقلين تم إسقاطهما في فضاء متعدد الأبعاد. هذا القياس مفيد، لأنه إذا كانت وثيقتان متباعدتان بمسافة إقليدية بسبب الحجم، فقد يكون لديهما زاوية أصغر بينهما وبالتالي تشابه كوني أعلى. لمزيد من المعلومات حول معادلات التشابه الكوني، راجع [التشابه الكوني](https://en.wikipedia.org/wiki/Cosine_similarity?WT.mc_id=academic-105485-koreyst).

## بناء تطبيق البحث الأول

بعد ذلك، سنتعلم كيفية بناء تطبيق بحث باستخدام التضمينات. سيسمح تطبيق البحث للطلاب بالبحث عن فيديو عن طريق كتابة سؤال. سيقوم تطبيق البحث بإرجاع قائمة بالفيديوهات ذات الصلة بالسؤال. سيقوم تطبيق البحث أيضًا بإرجاع رابط إلى المكان في الفيديو حيث يوجد الجواب على السؤال.

تم بناء هذا الحل واختباره على Windows 11 وmacOS وUbuntu 22.04 باستخدام Python 3.10 أو أحدث. يمكنك تنزيل Python من [python.org](https://www.python.org/downloads/?WT.mc_id=academic-105485-koreyst).

## المهمة - بناء تطبيق بحث، لتمكين الطلاب

قدمنا شركتنا الناشئة في بداية هذا الدرس. الآن حان الوقت لتمكين الطلاب من بناء تطبيق بحث لتقييماتهم.

في هذه المهمة، ستقوم بإنشاء خدمات Azure OpenAI التي ستستخدم لبناء تطبيق البحث. ستحتاج إلى اشتراك Azure لإكمال هذه المهمة.

### بدء Azure Cloud Shell

1. قم بتسجيل الدخول إلى [بوابة Azure](https://portal.azure.com/?WT.mc_id=academic-105485-koreyst).
2. اختر أيقونة Cloud Shell في الزاوية العلوية اليمنى من بوابة Azure.
3. اختر **Bash** لنوع البيئة.

#### إنشاء مجموعة موارد

> لهذه التعليمات، نستخدم مجموعة الموارد المسماة "semantic-video-search" في شرق الولايات المتحدة.
> يمكنك تغيير اسم مجموعة الموارد، ولكن عند تغيير الموقع للموارد،
> تحقق من [جدول توافر النموذج](https://aka.ms/oai/models?WT.mc_id=academic-105485-koreyst).

#### إنشاء مورد خدمة Azure OpenAI

من Azure Cloud Shell، قم بتشغيل الأمر التالي لإنشاء مورد خدمة Azure OpenAI.

#### الحصول على نقطة النهاية والمفاتيح لاستخدامها في هذا التطبيق

من Azure Cloud Shell، قم بتشغيل الأوامر التالية للحصول على نقطة النهاية والمفاتيح لمورد خدمة Azure OpenAI.

#### نشر نموذج OpenAI Embedding

من Azure Cloud Shell، قم بتشغيل الأمر التالي لنشر نموذج OpenAI Embedding.

## الحل

افتح [دفتر الحل](../../../08-building-search-applications/python/aoai-solution.ipynb) في GitHub Codespaces واتبع التعليمات في دفتر Jupyter.

عند تشغيل الدفتر، ستتم مطالبتك بإدخال استعلام. سيبدو مربع الإدخال كالتالي:

## عمل رائع! تابع تعلمك

بعد إكمال هذا الدرس، تحقق من [مجموعة تعلم الذكاء الاصطناعي التوليدي](https://aka.ms/genai-collection?WT.mc_id=academic-105485-koreyst) لمواصلة تعزيز معرفتك بالذكاء الاصطناعي التوليدي!

توجه إلى الدرس 9 حيث سنلقي نظرة على كيفية [بناء تطبيقات توليد الصور](../09-building-image-applications/README.md?WT.mc_id=academic-105485-koreyst)!

Certainly! However, could you please clarify what you mean by "mo"? Are you referring to a specific language or dialect?