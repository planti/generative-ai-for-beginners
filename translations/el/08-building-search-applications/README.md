<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "d46aad0917a1a342d613e2c13d457da5",
  "translation_date": "2025-05-19T18:30:10+00:00",
  "source_file": "08-building-search-applications/README.md",
  "language_code": "el"
}
-->
# Δημιουργία Εφαρμογών Αναζήτησης

> > _Κάντε κλικ στην εικόνα παραπάνω για να δείτε το βίντεο αυτού του μαθήματος_

Τα LLMs είναι κάτι παραπάνω από chatbots και παραγωγή κειμένου. Είναι επίσης δυνατό να δημιουργήσετε εφαρμογές αναζήτησης χρησιμοποιώντας Embeddings. Τα Embeddings είναι αριθμητικές αναπαραστάσεις δεδομένων, γνωστές και ως διανύσματα, και μπορούν να χρησιμοποιηθούν για σημασιολογική αναζήτηση δεδομένων.

Σε αυτό το μάθημα, θα δημιουργήσετε μια εφαρμογή αναζήτησης για την εκπαιδευτική μας startup. Η startup μας είναι ένας μη κερδοσκοπικός οργανισμός που παρέχει δωρεάν εκπαίδευση σε μαθητές σε αναπτυσσόμενες χώρες. Η startup μας διαθέτει μεγάλο αριθμό βίντεο στο YouTube που οι μαθητές μπορούν να χρησιμοποιήσουν για να μάθουν για την AI. Η startup μας θέλει να δημιουργήσει μια εφαρμογή αναζήτησης που επιτρέπει στους μαθητές να αναζητούν ένα βίντεο στο YouTube πληκτρολογώντας μια ερώτηση.

Για παράδειγμα, ένας μαθητής μπορεί να πληκτρολογήσει 'Τι είναι τα Jupyter Notebooks;' ή 'Τι είναι το Azure ML' και η εφαρμογή αναζήτησης θα επιστρέψει μια λίστα με βίντεο στο YouTube που είναι σχετικά με την ερώτηση, και ακόμα καλύτερα, η εφαρμογή αναζήτησης θα επιστρέψει έναν σύνδεσμο προς το σημείο στο βίντεο όπου βρίσκεται η απάντηση στην ερώτηση.

## Εισαγωγή

Σε αυτό το μάθημα, θα καλύψουμε:

- Σημασιολογική vs Αναζήτηση με λέξεις-κλειδιά.
- Τι είναι τα Text Embeddings.
- Δημιουργία Δείκτη Text Embeddings.
- Αναζήτηση σε Δείκτη Text Embeddings.

## Στόχοι Μάθησης

Αφού ολοκληρώσετε αυτό το μάθημα, θα μπορείτε να:

- Διακρίνετε τη διαφορά μεταξύ σημασιολογικής και αναζήτησης με λέξεις-κλειδιά.
- Εξηγήσετε τι είναι τα Text Embeddings.
- Δημιουργήσετε μια εφαρμογή χρησιμοποιώντας Embeddings για αναζήτηση δεδομένων.

## Γιατί να δημιουργήσετε μια εφαρμογή αναζήτησης;

Η δημιουργία μιας εφαρμογής αναζήτησης θα σας βοηθήσει να κατανοήσετε πώς να χρησιμοποιήσετε Embeddings για αναζήτηση δεδομένων. Θα μάθετε επίσης πώς να δημιουργήσετε μια εφαρμογή αναζήτησης που μπορεί να χρησιμοποιηθεί από μαθητές για να βρίσκουν γρήγορα πληροφορίες.

Το μάθημα περιλαμβάνει έναν Δείκτη Embedding από τις μεταγραφές του YouTube για το κανάλι Microsoft [AI Show](https://www.youtube.com/playlist?list=PLlrxD0HtieHi0mwteKBOfEeOYf0LJU4O1). Το AI Show είναι ένα κανάλι στο YouTube που σας διδάσκει για την AI και τη μηχανική μάθηση. Ο Δείκτης Embedding περιέχει τα Embeddings για κάθε μία από τις μεταγραφές του YouTube μέχρι τον Οκτώβριο του 2023. Θα χρησιμοποιήσετε τον Δείκτη Embedding για να δημιουργήσετε μια εφαρμογή αναζήτησης για τη startup μας. Η εφαρμογή αναζήτησης επιστρέφει έναν σύνδεσμο προς το σημείο στο βίντεο όπου βρίσκεται η απάντηση στην ερώτηση. Αυτός είναι ένας εξαιρετικός τρόπος για τους μαθητές να βρίσκουν γρήγορα τις πληροφορίες που χρειάζονται.

Το παρακάτω είναι ένα παράδειγμα σημασιολογικής ερώτησης για την ερώτηση 'μπορείτε να χρησιμοποιήσετε το rstudio με το azure ml;'. Ελέγξτε το URL του YouTube, θα δείτε ότι το URL περιέχει ένα χρονικό σήμα που σας οδηγεί στο σημείο στο βίντεο όπου βρίσκεται η απάντηση στην ερώτηση.

## Τι είναι η σημασιολογική αναζήτηση;

Ίσως αναρωτιέστε, τι είναι η σημασιολογική αναζήτηση; Η σημασιολογική αναζήτηση είναι μια τεχνική αναζήτησης που χρησιμοποιεί τη σημασία, ή το νόημα, των λέξεων σε μια ερώτηση για να επιστρέψει σχετικά αποτελέσματα.

Εδώ είναι ένα παράδειγμα σημασιολογικής αναζήτησης. Ας πούμε ότι θέλετε να αγοράσετε ένα αυτοκίνητο, ίσως αναζητήσετε 'το αυτοκίνητο των ονείρων μου', η σημασιολογική αναζήτηση καταλαβαίνει ότι δεν `dreaming` για ένα αυτοκίνητο, αλλά μάλλον ψάχνετε να αγοράσετε το `ideal` αυτοκίνητο. Η σημασιολογική αναζήτηση κατανοεί την πρόθεσή σας και επιστρέφει σχετικά αποτελέσματα. Η εναλλακτική είναι `keyword search` που θα αναζητούσε κυριολεκτικά όνειρα για αυτοκίνητα και συχνά επιστρέφει άσχετα αποτελέσματα.

## Τι είναι τα Text Embeddings;

[Τα Text embeddings](https://en.wikipedia.org/wiki/Word_embedding?WT.mc_id=academic-105485-koreyst) είναι μια τεχνική αναπαράστασης κειμένου που χρησιμοποιείται στην [επεξεργασία φυσικής γλώσσας](https://en.wikipedia.org/wiki/Natural_language_processing?WT.mc_id=academic-105485-koreyst). Τα Text embeddings είναι σημασιολογικές αριθμητικές αναπαραστάσεις κειμένου. Τα Embeddings χρησιμοποιούνται για να αναπαραστήσουν δεδομένα με τρόπο που είναι εύκολος για μια μηχανή να κατανοήσει. Υπάρχουν πολλά μοντέλα για τη δημιουργία text embeddings, σε αυτό το μάθημα, θα επικεντρωθούμε στη δημιουργία embeddings χρησιμοποιώντας το OpenAI Embedding Model.

Εδώ είναι ένα παράδειγμα, φανταστείτε το παρακάτω κείμενο να είναι σε μια μεταγραφή από ένα από τα επεισόδια του καναλιού AI Show στο YouTube:

```text
Today we are going to learn about Azure Machine Learning.
```

Θα περάσουμε το κείμενο στο OpenAI Embedding API και θα επιστρέψει το ακόλουθο embedding που αποτελείται από 1536 αριθμούς, γνωστό και ως διάνυσμα. Κάθε αριθμός στο διάνυσμα αντιπροσωπεύει μια διαφορετική πτυχή του κειμένου. Για συντομία, εδώ είναι οι πρώτοι 10 αριθμοί στο διάνυσμα.

```python
[-0.006655829958617687, 0.0026128944009542465, 0.008792596869170666, -0.02446001023054123, -0.008540431968867779, 0.022071078419685364, -0.010703742504119873, 0.003311325330287218, -0.011632772162556648, -0.02187200076878071, ...]
```

## Πώς δημιουργείται ο Δείκτης Embedding;

Ο Δείκτης Embedding για αυτό το μάθημα δημιουργήθηκε με μια σειρά από Python scripts. Θα βρείτε τα scripts μαζί με τις οδηγίες στο [README](./scripts/README.md?WT.mc_id=academic-105485-koreyst) στον φάκελο 'scripts' για αυτό το μάθημα. Δεν χρειάζεται να εκτελέσετε αυτά τα scripts για να ολοκληρώσετε αυτό το μάθημα, καθώς ο Δείκτης Embedding παρέχεται για εσάς.

Τα scripts εκτελούν τις ακόλουθες λειτουργίες:

1. Η μεταγραφή για κάθε βίντεο στο YouTube στη λίστα αναπαραγωγής [AI Show](https://www.youtube.com/playlist?list=PLlrxD0HtieHi0mwteKBOfEeOYf0LJU4O1) κατεβάζεται.
2. Χρησιμοποιώντας [OpenAI Functions](https://learn.microsoft.com/azure/ai-services/openai/how-to/function-calling?WT.mc_id=academic-105485-koreyst), γίνεται προσπάθεια να εξαχθεί το όνομα του ομιλητή από τα πρώτα 3 λεπτά της μεταγραφής του YouTube. Το όνομα του ομιλητή για κάθε βίντεο αποθηκεύεται στον Δείκτη Embedding με το όνομα `embedding_index_3m.json`.
3. Το κείμενο της μεταγραφής στη συνέχεια χωρίζεται σε **τμήματα κειμένου 3 λεπτών**. Το τμήμα περιλαμβάνει περίπου 20 λέξεις που επικαλύπτονται από το επόμενο τμήμα για να διασφαλιστεί ότι το Embedding για το τμήμα δεν κόβεται και να παρέχεται καλύτερο πλαίσιο αναζήτησης.
4. Κάθε τμήμα κειμένου στη συνέχεια περνά στο OpenAI Chat API για να συνοψιστεί το κείμενο σε 60 λέξεις. Η σύνοψη αποθηκεύεται επίσης στον Δείκτη Embedding `embedding_index_3m.json`.
5. Τέλος, το κείμενο του τμήματος περνά στο OpenAI Embedding API. Το Embedding API επιστρέφει ένα διάνυσμα 1536 αριθμών που αντιπροσωπεύει τη σημασιολογική έννοια του τμήματος. Το τμήμα μαζί με το OpenAI Embedding διάνυσμα αποθηκεύεται σε έναν Δείκτη Embedding `embedding_index_3m.json`.

### Βάσεις Δεδομένων Διανυσμάτων

Για απλότητα μαθήματος, ο Δείκτης Embedding αποθηκεύεται σε ένα αρχείο JSON με το όνομα `embedding_index_3m.json` και φορτώνεται σε ένα Pandas DataFrame. Ωστόσο, στην παραγωγή, ο Δείκτης Embedding θα αποθηκευόταν σε μια βάση δεδομένων διανυσμάτων όπως το [Azure Cognitive Search](https://learn.microsoft.com/training/modules/improve-search-results-vector-search?WT.mc_id=academic-105485-koreyst), [Redis](https://cookbook.openai.com/examples/vector_databases/redis/readme?WT.mc_id=academic-105485-koreyst), [Pinecone](https://cookbook.openai.com/examples/vector_databases/pinecone/readme?WT.mc_id=academic-105485-koreyst), [Weaviate](https://cookbook.openai.com/examples/vector_databases/weaviate/readme?WT.mc_id=academic-105485-koreyst), για να αναφέρουμε μερικές.

## Κατανόηση της ομοιότητας συνημιτόνου

Έχουμε μάθει για τα text embeddings, το επόμενο βήμα είναι να μάθουμε πώς να χρησιμοποιούμε τα text embeddings για αναζήτηση δεδομένων και ειδικότερα για να βρούμε τα πιο παρόμοια embeddings με μια δεδομένη ερώτηση χρησιμοποιώντας την ομοιότητα συνημιτόνου.

### Τι είναι η ομοιότητα συνημιτόνου;

Η ομοιότητα συνημιτόνου είναι ένα μέτρο ομοιότητας μεταξύ δύο διανυσμάτων, θα το ακούσετε επίσης να αναφέρεται ως `nearest neighbor search`. Για να εκτελέσετε μια αναζήτηση ομοιότητας συνημιτόνου, πρέπει να _διανυσματοποιήσετε_ το _κείμενο ερώτησης_ χρησιμοποιώντας το OpenAI Embedding API. Στη συνέχεια, υπολογίστε την _ομοιότητα συνημιτόνου_ μεταξύ του διανύσματος ερώτησης και κάθε διανύσματος στον Δείκτη Embedding. Θυμηθείτε, ο Δείκτης Embedding έχει ένα διάνυσμα για κάθε τμήμα κειμένου μεταγραφής στο YouTube. Τέλος, ταξινομήστε τα αποτελέσματα κατά ομοιότητα συνημιτόνου και τα τμήματα κειμένου με τη μεγαλύτερη ομοιότητα συνημιτόνου είναι τα πιο παρόμοια με την ερώτηση.

Από μαθηματική άποψη, η ομοιότητα συνημιτόνου μετρά το συνημίτονο της γωνίας μεταξύ δύο διανυσμάτων προβολής σε πολυδιάστατο χώρο. Αυτή η μέτρηση είναι επωφελής, επειδή αν δύο έγγραφα είναι μακριά μεταξύ τους με βάση την Ευκλείδεια απόσταση λόγω μεγέθους, μπορεί να έχουν ακόμα μικρότερη γωνία μεταξύ τους και επομένως μεγαλύτερη ομοιότητα συνημιτόνου. Για περισσότερες πληροφορίες σχετικά με τις εξισώσεις ομοιότητας συνημιτόνου, δείτε [Cosine similarity](https://en.wikipedia.org/wiki/Cosine_similarity?WT.mc_id=academic-105485-koreyst).

## Δημιουργία της πρώτης σας εφαρμογής αναζήτησης

Στη συνέχεια, θα μάθουμε πώς να δημιουργήσουμε μια εφαρμογή αναζήτησης χρησιμοποιώντας Embeddings. Η εφαρμογή αναζήτησης θα επιτρέπει στους μαθητές να αναζητούν ένα βίντεο πληκτρολογώντας μια ερώτηση. Η εφαρμογή αναζήτησης θα επιστρέφει μια λίστα με βίντεο που είναι σχετικά με την ερώτηση. Η εφαρμογή αναζήτησης θα επιστρέφει επίσης έναν σύνδεσμο προς το σημείο στο βίντεο όπου βρίσκεται η απάντηση στην ερώτηση.

Αυτή η λύση δημιουργήθηκε και δοκιμάστηκε σε Windows 11, macOS και Ubuntu 22.04 χρησιμοποιώντας Python 3.10 ή νεότερη έκδοση. Μπορείτε να κατεβάσετε την Python από το [python.org](https://www.python.org/downloads/?WT.mc_id=academic-105485-koreyst).

## Εργασία - δημιουργία μιας εφαρμογής αναζήτησης, για να διευκολύνουμε τους μαθητές

Παρουσιάσαμε τη startup μας στην αρχή αυτού του μαθήματος. Τώρα είναι η ώρα να δώσουμε τη δυνατότητα στους μαθητές να δημιουργήσουν μια εφαρμογή αναζήτησης για τις αξιολογήσεις τους.

Σε αυτή την εργασία, θα δημιουργήσετε τις Υπηρεσίες Azure OpenAI που θα χρησιμοποιηθούν για τη δημιουργία της εφαρμογής αναζήτησης. Θα δημιουργήσετε τις ακόλουθες Υπηρεσίες Azure OpenAI. Θα χρειαστείτε μια συνδρομή Azure για να ολοκληρώσετε αυτή την εργασία.

### Ξεκινήστε το Azure Cloud Shell

1. Συνδεθείτε στο [Azure portal](https://portal.azure.com/?WT.mc_id=academic-105485-koreyst).
2. Επιλέξτε το εικονίδιο Cloud Shell στην επάνω δεξιά γωνία του Azure portal.
3. Επιλέξτε **Bash** για τον τύπο περιβάλλοντος.

#### Δημιουργήστε μια ομάδα πόρων

> Για αυτές τις οδηγίες, χρησιμοποιούμε την ομάδα πόρων με το όνομα "semantic-video-search" στην Ανατολική ΗΠΑ.
> Μπορείτε να αλλάξετε το όνομα της ομάδας πόρων, αλλά όταν αλλάζετε την τοποθεσία για τους πόρους,
> ελέγξτε τον [πίνακα διαθεσιμότητας μοντέλων](https://aka.ms/oai/models?WT.mc_id=academic-105485-koreyst).

```shell
az group create --name semantic-video-search --location eastus
```

#### Δημιουργήστε έναν πόρο Azure OpenAI Service

Από το Azure Cloud Shell, εκτελέστε την ακόλουθη εντολή για να δημιουργήσετε έναν πόρο Azure OpenAI Service.

```shell
az cognitiveservices account create --name semantic-video-openai --resource-group semantic-video-search \
    --location eastus --kind OpenAI --sku s0
```

#### Λάβετε το endpoint και τα κλειδιά για χρήση σε αυτή την εφαρμογή

Από το Azure Cloud Shell, εκτελέστε τις ακόλουθες εντολές για να λάβετε το endpoint και τα κλειδιά για τον πόρο Azure OpenAI Service.

```shell
az cognitiveservices account show --name semantic-video-openai \
   --resource-group  semantic-video-search | jq -r .properties.endpoint
az cognitiveservices account keys list --name semantic-video-openai \
   --resource-group semantic-video-search | jq -r .key1
```

#### Αναπτύξτε το OpenAI Embedding model

Από το Azure Cloud Shell, εκτελέστε την ακόλουθη εντολή για να αναπτύξετε το OpenAI Embedding model.

```shell
az cognitiveservices account deployment create \
    --name semantic-video-openai \
    --resource-group  semantic-video-search \
    --deployment-name text-embedding-ada-002 \
    --model-name text-embedding-ada-002 \
    --model-version "2"  \
    --model-format OpenAI \
    --sku-capacity 100 --sku-name "Standard"
```

## Λύση

Ανοίξτε το [notebook λύσης](../../../08-building-search-applications/python/aoai-solution.ipynb) στο GitHub Codespaces και ακολουθήστε τις οδηγίες στο Jupyter Notebook.

Όταν εκτελέσετε το notebook, θα σας ζητηθεί να εισάγετε μια ερώτηση. Το πλαίσιο εισαγωγής θα μοιάζει με αυτό:

![Πλαίσιο εισαγωγής για την εισαγωγή ερώτησης από τον χρήστη](../../../translated_images/notebook-search.31eabddd06254ea17ca4fe27dec0373d294da1abe4c1e8b7edc0dd31a18aeb9a.el.png)

## Εξαιρετική Δουλειά! Συνεχίστε τη Μάθησή σας

Αφού ολοκληρώσετε αυτό το μάθημα, ελέγξτε τη συλλογή μας [Generative AI Learning](https://aka.ms/genai-collection?WT.mc_id=academic-105485-koreyst) για να συνεχίσετε να βελτιώνετε τις γνώσεις σας για την Generative AI!

Πηγαίνετε στο Μάθημα 9 όπου θα δούμε πώς να [δημιουργήσουμε εφαρμογές δημιουργίας εικόνων](../09-building-image-applications/README.md?WT.mc_id=academic-105485-koreyst)!

**Αποποίηση ευθύνης**:  
Αυτό το έγγραφο έχει μεταφραστεί χρησιμοποιώντας την υπηρεσία μετάφρασης AI [Co-op Translator](https://github.com/Azure/co-op-translator). Ενώ επιδιώκουμε την ακρίβεια, παρακαλώ να γνωρίζετε ότι οι αυτοματοποιημένες μεταφράσεις μπορεί να περιέχουν λάθη ή ανακρίβειες. Το πρωτότυπο έγγραφο στη μητρική του γλώσσα πρέπει να θεωρείται ως η αυθεντική πηγή. Για κρίσιμες πληροφορίες, συνιστάται επαγγελματική ανθρώπινη μετάφραση. Δεν φέρουμε ευθύνη για τυχόν παρεξηγήσεις ή εσφαλμένες ερμηνείες που προκύπτουν από τη χρήση αυτής της μετάφρασης.